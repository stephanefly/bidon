<!DOCTYPE html>

{% load static %}
{% load bootstrap5 %}
{% bootstrap_css %}
{% bootstrap_javascript %}


<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TRUNKS</title>
{#    <link rel="icon" href="{% static 'img/favicon.ico' %}" type="image/x-icon">#}

    <!-- CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.4/css/jquery.dataTables.min.css"/>
    <link rel="stylesheet" href="{% static 'css/main.css' %}">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="https://cdn.pydata.org/bokeh/release/bokeh-3.1.0.min.css">
    <link rel="stylesheet" href="https://cdn.pydata.org/bokeh/release/bokeh-widgets-3.1.0.min.css">

    <!-- JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.9.3/umd/popper.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V" crossorigin="anonymous"></script>
    <script src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js"></script>
</head>

<style>
    /* Fond du dropdown */
.custom-dropdown {
  background-color: #471448; /* violet */
  border-radius: 8px;
  font-size: smaller;
}

/* Liens par défaut */
.custom-dropdown .nav-link {
  color: #fff !important;
  font-weight: bold;
  padding: 8px 16px;
  display: block;
  border-radius: 6px;
  transition: background-color 0.1s ease;
}

/* Hover et actif */
.custom-dropdown .nav-link:hover,
.custom-dropdown .nav-item.active .nav-link {
  background-color: #744296; /* violet plus foncé */
  color: #fff !important;
}

</style>


<nav class="navbar navbar-expand-lg navbar-dark navbar-custom">
    <a class="navbar-brand" href="#" style="padding-left:10px">
        TRUNKS </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarNav" aria-controls="navbarNav"
            aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
<div class="collapse navbar-collapse justify-content-center" id="navbarNav" style="margin-right:100px; position:relative; z-index:9999;">
        <ul class="navbar-nav">
            {% url 'accueil' as url %}
            <li class="nav-item {% if request.path == url %}active{% endif %}">
                <a class="nav-link " style="color: #f6ddff" href="{{ url }}">Accueil</a>
            </li>
                    {% url 'configuration' as url %}
            <li class="nav-item {% if request.path == url %}active{% endif %}">
                <a class="nav-link" style="color: #f6ddff" href="{{ url }}"> Configuration</a>
            </li>
            {% url 'lst_projets' as url %}
            <li class="nav-item {% if request.path == url %}active{% endif %}">
                <a class="nav-link " style="color: #f6ddff" href="{{ url }}">Perfos0D</a>
            </li>
            <li class="nav-item dropdown {% if request.path == util_url or request.path == config_url %}active{% endif %}">
                {% url 'utilitaire' as util_url %}
                <a class="nav-link dropdown-toggle" href="#"
                   id="navbarDropdownUtilitaire" role="button"
                   data-bs-toggle="dropdown" aria-expanded="false">
                    Utilitaire
                </a>
            <ul class="dropdown-menu custom-dropdown" aria-labelledby="navbarDropdownUtilitaire">
                {% url 'lst_revue_veine' as url %}
                <li class="nav-item {% if request.path == url %}active{% endif %}">
                    <a class="nav-link" href="{{ url }}">Revue Veine</a>
                </li>
                {% url 'lst_revue_aube' as url %}
                <li class="nav-item {% if request.path == url %}active{% endif %}">
                    <a class="nav-link" href="{{ url }}">Revue Aube</a>
                </li>
                {% url 'utilitaire_y_to_yplus' as url %}
                <li class="nav-item {% if request.path == url %}active{% endif %}">
                    <a class="nav-link" href="{{ url }}">Y to Y+</a>
                </li>
                {% url 'split_pdf' as url %}
                <li class="nav-item {% if request.path == url %}active{% endif %}">
                    <a class="nav-link" href="{{ url }}">Split PDF</a>
                </li>
                {% url 'lst_projets_shenron' as url %}
                <li class="nav-item {% if request.path == url %}active{% endif %}">
                    <a class="nav-link" href="{{ url }}">ShenRON</a>
                </li>
            </ul>
            {% url 'explorer' as url %}
            <li class="nav-item {% if request.path == url %}active{% endif %}">
                <a class="nav-link" style="color: #f6ddff" href="{{ url }}"> Explorer</a>
            </li>
        </ul>
    </div>
<div class="d-flex align-items-center gap-2">
    <!-- Barre de recherche -->
    <form action="{% url 'recherche_globale' %}" method="get" class="d-flex" role="search">
        <input class="form-control me-2" type="search" name="q" placeholder="Rechercher..." value="{{ request.GET.q|default:'' }}">
        <button class="btn btn-outline-light" type="submit" title="Rechercher">
            <i class="bi bi-search"></i>
        </button>
    </form>

    <!-- Lien vers la documentation -->
    <a href="https://devlab-dev.snm.snecma/public/capsulecore/trunks/trunks/"
       class="btn btn-outline-light" target="_blank" rel="noopener noreferrer" title="Documentation Trunks">
        <i class="bi bi-book"></i>
    </a>

    <!-- Bouton de déconnexion -->
    {% if user.is_authenticated %}
    <form action="{% url 'logout' %}" method="post">
        {% csrf_token %}
        <button type="submit" class="btn btn-outline-light" title="Se déconnecter">
            <i class="bi bi-box-arrow-right"></i>
        </button>
    </form>
    {% endif %}


</div>
</nav>

<body style="background-image: url('{% static 'img/back3.jpg' %}'); ">

<main class="container" >
    {% block content %}
    {% endblock %}
</main>

</body>


<!--Bockeh-->
<script src="https://cdn.bokeh.org/bokeh/release/bokeh-3.1.0.min.js"></script>
<script src="https://cdn.bokeh.org/bokeh/release/bokeh-widgets-3.1.0.min.js"></script>
<script src="https://cdn.bokeh.org/bokeh/release/bokeh-tables-3.1.0.min.js"></script>
<script src="https://cdn.bokeh.org/bokeh/release/bokeh-api-3.1.0.min.js"></script>

</html>
